{"ast":null,"code":"\"use strict\";\n\nvar __spreadArrays = this && this.__spreadArrays || function () {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n  for (var r = Array(s), k = 0, i = 0; i < il; i++) for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++) r[k] = a[j];\n  return r;\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar log_levels_1 = require(\"./enum/log-levels\");\nvar VueLogger = /** @class */function () {\n  function VueLogger() {\n    this.errorMessage = \"Provided options for vuejs-logger are not valid.\";\n    this.logLevels = Object.keys(log_levels_1.LogLevels).map(function (l) {\n      return l.toLowerCase();\n    });\n  }\n  VueLogger.prototype.install = function (Vue, options) {\n    options = Object.assign(this.getDefaultOptions(), options);\n    if (this.isValidOptions(options, this.logLevels)) {\n      Vue.$log = this.initLoggerInstance(options, this.logLevels);\n      Vue.prototype.$log = Vue.$log;\n    } else {\n      throw new Error(this.errorMessage);\n    }\n  };\n  VueLogger.prototype.isValidOptions = function (options, logLevels) {\n    if (!(options.logLevel && typeof options.logLevel === \"string\" && logLevels.indexOf(options.logLevel) > -1)) {\n      return false;\n    }\n    if (options.stringifyArguments && typeof options.stringifyArguments !== \"boolean\") {\n      return false;\n    }\n    if (options.showLogLevel && typeof options.showLogLevel !== \"boolean\") {\n      return false;\n    }\n    if (options.showConsoleColors && typeof options.showConsoleColors !== \"boolean\") {\n      return false;\n    }\n    if (options.separator && (typeof options.separator !== \"string\" || typeof options.separator === \"string\" && options.separator.length > 3)) {\n      return false;\n    }\n    if (typeof options.isEnabled !== \"boolean\") {\n      return false;\n    }\n    return !(options.showMethodName && typeof options.showMethodName !== \"boolean\");\n  };\n  VueLogger.prototype.getMethodName = function () {\n    var error = {};\n    try {\n      throw new Error(\"\");\n    } catch (e) {\n      error = e;\n    }\n    // IE9 does not have .stack property\n    if (error.stack === undefined) {\n      return \"\";\n    }\n    var stackTrace = error.stack.split(\"\\n\")[3];\n    if (/ /.test(stackTrace)) {\n      stackTrace = stackTrace.trim().split(\" \")[1];\n    }\n    if (stackTrace && stackTrace.indexOf(\".\") > -1) {\n      stackTrace = stackTrace.split(\".\")[1];\n    }\n    return stackTrace;\n  };\n  VueLogger.prototype.initLoggerInstance = function (options, logLevels) {\n    var _this = this;\n    var logger = {};\n    logLevels.forEach(function (logLevel) {\n      if (logLevels.indexOf(logLevel) >= logLevels.indexOf(options.logLevel) && options.isEnabled) {\n        logger[logLevel] = function () {\n          var args = [];\n          for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n          }\n          var methodName = _this.getMethodName();\n          var methodNamePrefix = options.showMethodName ? methodName + (\" \" + options.separator + \" \") : \"\";\n          var logLevelPrefix = options.showLogLevel ? logLevel + (\" \" + options.separator + \" \") : \"\";\n          var formattedArguments = options.stringifyArguments ? args.map(function (a) {\n            return JSON.stringify(a);\n          }) : args;\n          var logMessage = logLevelPrefix + \" \" + methodNamePrefix;\n          _this.printLogMessage(logLevel, logMessage, options.showConsoleColors, formattedArguments);\n          return logMessage + \" \" + formattedArguments.toString();\n        };\n      } else {\n        logger[logLevel] = function () {\n          return undefined;\n        };\n      }\n    });\n    return logger;\n  };\n  VueLogger.prototype.printLogMessage = function (logLevel, logMessage, showConsoleColors, formattedArguments) {\n    if (showConsoleColors && (logLevel === \"warn\" || logLevel === \"error\" || logLevel === \"fatal\")) {\n      console[logLevel === \"fatal\" ? \"error\" : logLevel].apply(console, __spreadArrays([logMessage], formattedArguments));\n    } else {\n      console.log.apply(console, __spreadArrays([logMessage], formattedArguments));\n    }\n  };\n  VueLogger.prototype.getDefaultOptions = function () {\n    return {\n      isEnabled: true,\n      logLevel: log_levels_1.LogLevels.DEBUG,\n      separator: \"|\",\n      showConsoleColors: false,\n      showLogLevel: false,\n      showMethodName: false,\n      stringifyArguments: false\n    };\n  };\n  return VueLogger;\n}();\nexports.default = new VueLogger();","map":{"version":3,"names":["log_levels_1","require","VueLogger","errorMessage","logLevels","Object","keys","LogLevels","map","l","toLowerCase","prototype","install","Vue","options","assign","getDefaultOptions","isValidOptions","$log","initLoggerInstance","Error","logLevel","indexOf","stringifyArguments","showLogLevel","showConsoleColors","separator","length","isEnabled","showMethodName","getMethodName","error","e","stack","undefined","stackTrace","split","test","trim","_this","logger","forEach","args","_i","arguments","methodName","methodNamePrefix","logLevelPrefix","formattedArguments","a","JSON","stringify","logMessage","printLogMessage","toString","console","apply","__spreadArrays","log","DEBUG","exports","default"],"sources":["../src/vue-logger.ts"],"sourcesContent":[null],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}